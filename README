############ HARDWARE & OS ########################################################################################

Hardware: This script is meant to run/installed on RPI 4 this tutorial is assuming you use a Mac OSX
OS:Raspberry Pi OS Lite (64-bit) Debian Bullseye
FAN: Standard 12v computer fan
OTHER: NPN Transistor, LED

############ INSTALL OS ############################################################################################

Start with clean OS install

To do that:

Use Raspberry Pi Imager to flash your SD

- Download Raspberry Pi Imager >> https://www.raspberrypi.com/software/
- Insert SD card in USB port of your Computer
- Open Raspberry Pi Imager
- Click Choose OS
- Click Raspberry Pi OS (others)
- Click Raspberry Pi OS Lite (64-bit)
- Click Choose Storage and select your SD card
- Click on Advanced Settings (Lower right corner)
- Set Hostname to BTCLOTO
- Enable SSH
- Set User Name and Password
- Configure Wireless Lan to connect to your Wifi (or plug device in ethernet)
- Set Local Settings
- Save
- Click Write
- Click Yes
- Click Yes
- Enter your computer password to authorize when prompted and ok
- Go make some coffee (10 min Max)
- When flash finished insert your SD card in RPI 4 and power it up

############ SET UP TELEGRAM BOT #################################################################################

Follow instructions of this site #https://www.instructables.com/Set-up-Telegram-Bot-on-Raspberry-Pi/

Install Telegram on phone

Find a Bot called BotFather

Create a new bot by sending msg to BotFather /newbot

Get token, something like 123456789:ABCdefGHKIJKlmNoPrRsTUVwxyZ

Get your Chat ID

############ INSTALL ##############################################################################################

Scan your LAN (you have to be connected to the same network as your RPI 4) (Local Area Network) with 
iNet Network Scanner to find your RPI 4

https://apps.apple.com/us/app/inet-network-scanner/id340793353

Ounce you have found your RPI 4 note the device ip (something like 192.168.0.22)

ssh pi@YOURDEVICEIP

If you get this msg

#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
#@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @
#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
#IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!
#Someone could be eavesdropping on you right now (man-in-the-middle attack)!
#It is also possible that a host key has just been changed.
#The fingerprint for the ECDSA key sent by the remote host is

Use this below command and ssh again

ssh-keygen -R YOURDEVICEIP

Ounce logged in run the below cmd

sudo wget https://raw.githubusercontent.com/micheldegeofroy/RPILOTO/master/loader.sh && sudo bash loader.sh

Then go have a cup of coffee the RPI will reboot several times takes about 30 mins

Ounce install is finished go to your bot and write

sudo tailscale status
clink on link to authorize tailscales

pi tunnel
curl -s pitunnel.com/get/R9zRUByvvQ | sudo bash

ssh pi@BTCLOTO.local

############ UNINSTALL ##############################################################################################

To uninstall 

Ssh into the RPI 4 and run the below cmd 

sudo bash uninstall.sh

you can also re download the uninstall.sh script

sudo wget https://raw.githubusercontent.com/micheldegeofroy/RPILOTO/master/uninstall.sh && sudo bash uninstall.sh

############ TODO ##################################################################################################

script that asks for public adress of wallet
Expand file system

############ RPI 4 GPIO PINOUT & LED & FAN PLAN ####################################################################

#  +-----+-----+-------------------+------+---+---Pi 4B--+---+------+--------------------+-----+-----+
#  | BCM | wPi |        Name       | Mode | V | Physical | V | Mode |         Name       | wPi | BCM |
#  +-----+-----+-------------------+------+---+----++----+---+------+--------------------+-----+-----+
#  |     |     |             +3.3V |      |   |  1 || 2  |   |      | +5V                |     |     |
#  |   2 |   8 | GPIO 2    SDA   1 |   IN | 1 |  3 || 4  |   |      | +5V                |     |     |
#  |   3 |   9 | GPIO 3    SCL   1 |   IN | 1 |  5 || 6  |   |      | GND  0V            |     |     |
#  |   4 |   7 | GPIO 4    GPCLK 0 |   IN | 1 |  7 || 8  | 0 | ALT5 | GPIO 14    TXD   0 | 15  | 14  |
#  |     |     |           GND  0V |      |   |  9 || 10 | 1 | ALT5 | GPIO 15    RXD   0 | 16  | 15  |
#  |  17 |   0 |           GPIO 17 |   IN | 0 | 11 || 12 | 1 | IN   | GPIO 18    PWM   0 | 1   | 18  |
#  |  27 |   2 |           GPIO 27 |   IN | 0 | 13 || 14 |   |      | GND  0V            |     |     |
#  |  22 |   3 |           GPIO 22 |   IN | 0 | 15 || 16 | 0 | IN   | GPIO 23            | 4   | 23  |
#  |     |     |             +3.3V |      |   | 17 || 18 | 0 | IN   | GPIO 24            | 5   | 24  |
#  |  10 |  12 | GPIO 10 SPIO_MOSI | ALT0 | 0 | 19 || 20 |   |      | GND  0V            |     |     |
#  |   9 |  13 | GPIO  9 SPIO_MISO | ALT0 | 0 | 21 || 22 | 0 | IN   | GPIO 25            | 6   | 25  |
#  |  11 |  14 | GPIO 11 SPIO_SCLK | ALT0 | 0 | 23 || 24 | 1 | OUT  | GPIO 08 SPIO CE0 N | 10  | 8   |
#  |     |     |           GND  0V |      |   | 25 || 26 | 1 | OUT  | GPIO 07 SPIO CE1 N | 11  | 7   |
#  |   0 |  30 | GPIO  0   SDA   0 |   IN | 1 | 27 || 28 | 1 | IN   | GPIO  1    SCL   0 | 31  | 1   |
#  |   5 |  21 | GPIO  5           |   IN | 1 | 29 || 30 |   |      | GND  0V            |     |     |
#  |   6 |  22 | GPIO  6           |   IN | 1 | 31 || 32 | 0 | OUT  | GPIO 12      PWM 0 | 26  | 12  |
#  |  13 |  23 | GPIO 13           |   IN | 0 | 33 || 34 |   |      | GND  0V            |     |     |
#  |  19 |  24 | GPIO 19           |   IN | 0 | 35 || 36 | 0 | IN   | GPIO 16            | 27  | 16  |
#  |  26 |  25 | GPIO 26           |   IN | 0 | 37 || 38 | 0 | IN   | GPIO 20            | 28  | 20  |
#  |     |     |           GND  0V |      |   | 39 || 40 | 0 | IN   | GPIO 21            | 29  | 21  |
#  +-----+-----+-------------------+------+---+----++----+---+------+--------------------+-----+-----+

#  +------------------------------RED------------------------------------+
#  |  +---------------------------BLACK--------------------------------+ |
#  |  |                                                                | |
#  |  |              +3.3V (1)  [.] [.] (2)  +5V                     ,,| |,,
#  |  |  GPIO 2    SDA   1 (3)  [.] [.] (4)  +5V -------RED------+   | LED |
#  |  |  GPIO 3    SCL   1 (5)  [.] [.] (6)  GND  0V --BLACK--+  |   '''''''
#  |  |  GPIO 4    GPCLK 0 (7)  [.] [.] (8)  TXD   1          |  |
#  |  +----------- GND  0V (9)  [.] [.] (10) RXD   1          |  +-------------------+
#  +---- GPIO 17           (11) [.] [.] (12) GPIO  1 ------+  |   ,,,,,,,            |
#        GPIO 27           (13) [.] [.] (14) GND  0V       |  +---| N T |            |
#        GPIO 22           (15) [.] [.] (16) GPIO 23       +------| P R |            |
#                    +3.3V (17) [.] [.] (18) GPIO 24          +---| N A |            |
#        GPIO 10 SPIO_MOSI (19) [.] [.] (20) GND              |   |   N |            |
#        GPIO  9 SPIO_MISO (21) [.] [.] (22) GPFS3            |   '''''''            |
#        GPIO 11 SPIO_SCLK (23) [.] [.] (24) MOSI1            +-----BLACK----|'''''''''|
#                  GND  0V (25) [.] [.] (26) MISO1                           |   FAN   |
#        GPIO  0   SDA   0 (27) [.] [.] (28) SCLK1                           |         |
#        GPIO  5           (29) [.] [.] (30) GND                             '''''''''''
#        GPIO  6           (31) [.] [.] (32) GPFS6
#        GPIO 13   PWM   1 (33) [.] [.] (34) GND
#        GPIO 19           (35) [.] [.] (36) GPFS8
#        GPIO 26           (37) [.] [.] (38) GPFS9
#                  GND  0V (39) [.] [.] (40) GPFS10

https://www.cryptocompare.com/

sign up

choose in pull down menu API keys

Click green button Create an API key

Choose Read/Write All user data

Where you see My Crypt App write Bot

Copy API Key

edc0eec6919061dd5475b0830acc90a34101203cede2c1c0b40471b5404e9c18

loader.sh >>> updates & upgrades >>> creates botdata.txt & chat_ids.txt >>> runs script to get Chat ID and Bot Token from User 
>>> writes information to botdata.txt and chat_ids.txt >>> downloads setup.sh >>> set cron job to launch setup.sh >>> reboots 

